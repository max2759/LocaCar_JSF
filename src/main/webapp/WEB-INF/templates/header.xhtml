<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:fxs="http://java.sun.com/jsf/composite/composantsFxs" xmlns:c="http://java.sun.com/jsp/jstl/core"
>
    <div class="container">

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <h:form>
                <h:commandLink styleClass="navbar-brand"
                               action="index?faces-redirect=true"> <h:graphicImage
                        value="/resources/images/logoLocacar.jpg" style="width: 148px; height: auto"/></h:commandLink>
            </h:form>
            <h:panelGroup id="menu">
                <h:form>

                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item"><h:commandLink styleClass="nav-link " value="Options"
                                                            action="#{optionsBean.toPageOption}"/></li>
                        <li class="nav-item"><h:commandLink styleClass="nav-link " value="Colors"
                                                            action="#{carsColorsBean.toPageColors}"/></li>
                        <li class="nav-item"><h:commandLink styleClass="nav-link " value="Models"
                                                            action="#{modelsBean.toPageModels}"/></li>
                        <li class="nav-item"><h:commandLink styleClass="nav-link" value="Register"
                                                            action="#{usersBean.toPageAddUser}"/></li>
                        <li class="nav-item"><h:commandLink styleClass="nav-link" value="Connexion"
                                                            action="#{usersBean.toPageConnexion}"/></li>
                        <li class="nav-item"><h:commandLink styleClass="nav-link" value="LogOut"
                                                            action="#{usersBean.doLogoutUser}"/></li>

                        <c:if test="#{usersBean.connected}">

                            <li class="nav-item"><h:commandLink styleClass="nav-link"
                                                                value="bonjour #{usersBean.usersEntity.username}"/></li>

                        </c:if>

                        <h:panelGroup rendered="#{usersBean.connected}">
                            <li class="nav-item">
                                <fxs:countContracts id="countContracts"></fxs:countContracts>
                                <h:link outcome="basket">
                                    <i class="fas fa-shopping-cart"></i>
                                </h:link>
                                <br/>
                                <fxs:priceOrder id="priceOrder"></fxs:priceOrder>
                            </li>
                        </h:panelGroup>

                        <f:view>
                            <h:form>
                                <h:commandButton id="fr" styleClass="french-flag"
                                                 actionListener="#{internalizationBean.langChoice}"
                                                 image="/resources/images/france-flag-icon-32.png">
                                </h:commandButton>
                                <h:outputText value="/"></h:outputText>
                                <h:commandButton id="en" styleClass="en-flag"
                                                 actionListener="#{internalizationBean.langChoice}"
                                                 image="/resources/images/united-kingdom-flag-icon-64.png">
                                </h:commandButton>
                            </h:form>
                        </f:view>
                    </ul>


                </h:form>
            </h:panelGroup>
        </nav>

    </div>
</ui:composition>
