<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:cc="http://java.sun.com/jsf/composite"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

<cc:interface name="updateAds">
</cc:interface>
<cc:implementation>
    <h:panelGrid>
        <h:messages id="messages" showSummary="true" globalOnly="true" infoClass="alert-info"
                    errorClass="alert-danger"/>
    </h:panelGrid>
    <h:form id="adsForm" enctype="multipart/form-data">
        <div>
            <div class="car-info-title">
                <h5>#{bundle['fxs.ads.carInfoTitle']}</h5>
            </div>
            <div class="car-info">
                <h:panelGroup id="showBrands" styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.brands']}" styleClass="col-sm-2 col-form-label"/>
                    <h:selectOneMenu id="brandsDisplay" styleClass="form-group"
                                     value="#{adsBean.adsEntity.carsByIdCars.modelsByIdModels.brandsByIdBrands}"
                                     converter="brandsConverter" required="true"
                                     requiredMessage="#{bundle['fxs.adsbrands.required']}">
                        <f:selectItem itemValue="#{null}" itemLabel="#{bundle['ads.chooseBrands']}"
                                      itemDisabled="true"/>
                        <f:selectItems value="#{brandsBean.brandsEntities}" var="brands"
                                       itemValue="#{brands}"
                                       itemLabel="#{brands.label}"/>
                        <f:ajax render="adsForm:showModels" listener="#{modelsBean.findBrandsByAds}"/>
                    </h:selectOneMenu>
                    <h:message for="brandsDisplay" errorClass="error"/>
                </h:panelGroup>

                <h:panelGroup id="showModels" styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.models']}" styleClass="col-sm-2 col-form-label"/>
                    <h:selectOneMenu id="modelsDisplay" value="#{adsBean.adsEntity.carsByIdCars.modelsByIdModels}"
                                     converter="modelsConverter" styleClass="form-group" required="true"
                                     requiredMessage="#{bundle['fxs.adsModels.required']}">
                        <f:selectItem itemValue="#{null}" itemLabel="#{bundle['ads.chooseModels']}"
                                      itemDisabled="true"/>
                        <f:selectItems value="#{modelsBean.modelsEntities}" var="models"
                                       itemValue="#{models}"
                                       itemLabel="#{models.label}"/>
                    </h:selectOneMenu>
                    <h:message for="modelsDisplay" styleClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.carTypes']}" styleClass="col-sm-2 col-form-label"/>
                    <h:selectOneMenu id="carTypesDisplay" styleClass="form-group"
                                     value="#{adsBean.adsEntity.carsByIdCars.carsTypesByIdCarsTypes}"
                                     converter="carTypesConverter" required="true"
                                     requiredMessage="#{bundle['fxs.adsCarTypes.required']}">
                        <f:selectItem itemValue="#{null}" itemLabel="#{bundle['fxs.addAds.selectNoValue']}"
                                      itemDisabled="true"/>
                        <f:selectItems value="#{carTypesbean.carsTypesEntities}" var="carTypes"
                                       itemValue="#{carTypes}"
                                       itemLabel="#{carTypes.label}"/>
                    </h:selectOneMenu>
                    <h:message for="carTypesDisplay" styleClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.carsGearbox']}" styleClass="col-sm-2 col-form-label"/>
                    <h:selectOneMenu id="carsGearboxDisplay" styleClass="form-group"
                                     value="#{adsBean.adsEntity.carsByIdCars.carsGearboxByIdCarsGearBox}"
                                     converter="carsGearboxConverter" required="true"
                                     requiredMessage="#{bundle['fxs.adsCarsGearbox.required']}">
                        <f:selectItem itemValue="#{null}" itemLabel="#{bundle['fxs.addAds.selectNoValue']}"
                                      itemDisabled="true"/>
                        <f:selectItems value="#{carsGearboxBean.carsGearboxEntities}" var="carsGearbox"
                                       itemValue="#{carsGearbox}"
                                       itemLabel="#{carsGearbox.label}"/>
                    </h:selectOneMenu>
                    <h:message for="carsGearboxDisplay" styleClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.carsFuels']}" styleClass="col-sm-2 col-form-label"/>
                    <h:selectOneMenu id="carsFuelsDisplay" styleClass="form-group"
                                     value="#{adsBean.adsEntity.carsByIdCars.carsFuelsByIdCarsFuels}"
                                     converter="carsFuelsConverter" required="true"
                                     requiredMessage="#{bundle['fxs.adsCarsFuels.required']}">
                        <f:selectItem itemValue="#{null}" itemLabel="#{bundle['fxs.addAds.selectNoValue']}"
                                      itemDisabled="true"/>
                        <f:selectItems value="#{carsFuelsBean.carsFuelsEntities}" var="carsFuels"
                                       itemValue="#{carsFuels}"
                                       itemLabel="#{carsFuels.label}"/>
                    </h:selectOneMenu>
                    <h:message for="carsFuelsDisplay" errorClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.carsColor']}" styleClass="col-sm-2 col-form-label"/>
                    <h:selectOneMenu id="carsColorsDisplay" styleClass="form-group"
                                     value="#{adsBean.adsEntity.carsByIdCars.carsColorsByIdCarsColors}"
                                     converter="carsColorsConverter" required="true"
                                     requiredMessage="#{bundle['fxs.adsCarsColors.required']}">
                        <f:selectItem itemValue="#{null}" itemLabel="#{bundle['fxs.addAds.selectNoValue']}"
                                      itemDisabled="true"/>
                        <f:selectItems value="#{carsColorsBean.carsColorsEntities}" var="carsColors"
                                       itemValue="#{carsColors}"
                                       itemLabel="#{carsColors.label}"/>
                    </h:selectOneMenu>
                    <h:message for="carsColorsDisplay" errorClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.options']}" styleClass="col-sm-2 col-form-label"/>
                    <h:selectManyCheckbox id="selectOptionsBox" value="#{carsOptionsBean.optionsEntityList}"
                                          styleClass="grid col-sm-10">
                        <f:selectItems value="#{optionsBean.optionsEntities}" var="options"
                                       itemValue="#{options}" itemLabel="#{options.label}"/>
                    </h:selectManyCheckbox>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.releaseYear']}" for="releaseYear"
                                   styleClass="col-sm-2 col-form-label"/>
                    <div class="col-sm-10">
                        <h:inputText value="#{adsBean.adsEntity.carsByIdCars.releaseYear}"
                                     styleClass="form-control col-2 ry"
                                     required="true"
                                     id="releaseYear"
                                     converter="localDateTimeConverter">
                            <f:validator validatorId="dateValidator"/>
                        </h:inputText>
                    </div>
                    <h:message for="releaseYear" styleClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.horsepower']}" for="horsePower"
                                   styleClass="col-sm-2 col-form-label"/>
                    <div class="col-sm-10">
                        <h:inputText value="#{adsBean.adsEntity.carsByIdCars.horsePower}"
                                     styleClass="form-control col-2"
                                     required="true"
                                     converterMessage="#{bundle['not.a.valid.number']}"
                                     validatorMessage="#{bundle['fxs.ads.validatorRange']}"
                                     id="horsePower">
                            <f:convertNumber minFractionDigits="0"/>
                            <f:validateLongRange minimum="2" maximum="2000"/>
                        </h:inputText>
                    </div>
                    <h:message for="horsePower" styleClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.kilometer']}" for="kilometer"
                                   styleClass="col-sm-2 col-form-label"/>
                    <div class="col-sm-10">
                        <h:inputText value="#{adsBean.adsEntity.carsByIdCars.kilometer}" styleClass="form-control col-2"
                                     required="true"
                                     converterMessage="#{bundle['not.a.valid.number']}"
                                     id="kilometer">
                            <f:convertNumber minFractionDigits="0"/>
                        </h:inputText>
                    </div>
                    <h:message for="kilometer" styleClass="error"/>
                </h:panelGroup>

            </div>

            <div class="ads-info-title">
                <h5>#{bundle['fxs.ads.adsInfoTitle']}</h5>
            </div>
            <div class="ads-info">
                <h:panelGroup class="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.adsTitle']}" for="adsLabel"
                                   styleClass="col-sm-2 col-form-label"/>
                    <div class="col-sm-10">
                        <h:inputText value="#{adsBean.adsEntity.label}" styleClass="form-control col-6"
                                     required="true"
                                     pt:placeholder="#{bundle['fxs.adsTitle.placeholder']}"
                                     requiredMessage="#{bundle['fxs.adsTitle.required']}"
                                     id="adsLabel">
                        </h:inputText>
                    </div>
                    <h:message for="adsLabel" errorClass="error"/>
                </h:panelGroup>

                <h:panelGroup class="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.insurancesList.price']}" for="adsPrice"
                                   styleClass="col-sm-2 col-form-label"/>
                    <div class="col-sm-10">
                        <h:inputText value="#{adsBean.adsEntity.price}" styleClass="form-control col-2"
                                     id="adsPrice" required="true"
                                     requiredMessage="#{bundle['fxs.insurancesList.required']}"
                                     converterMessage="#{bundle['fxs.insurancesList.priceError']}">
                            <f:validator validatorId="priceValidator"/>
                        </h:inputText>
                    </div>
                    <h:message for="adsPrice" id="messageValidator" styleClass="error"/>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.ads.adsType']}" styleClass="col-sm-2 col-form-label"/>

                    <h:selectOneMenu id="typeAdsDisplay" styleClass="form-group"
                                     value="#{adsBean.adsEntity.typeAds}">
                        <f:selectItems value="#{adsBean.enumTypes}" var="enumTypes" itemValue="#{enumTypes}"
                                       itemLabel="#{enumTypes.label}"/>
                        <h:message for="typeAdsDisplay" styleClass="error"/>
                    </h:selectOneMenu>
                </h:panelGroup>

                <h:panelGroup styleClass="row mb-3">
                    <h:outputLabel value="#{bundle['fxs.addAds.image']}"
                                   styleClass="col-sm-2 col-form-label"/>
                    <h:inputFile value="#{picturesBean.file}" id="picturesInput">
                        <f:validator validatorId="carsPicturesNotRequiredValidator"/>
                    </h:inputFile>
                    <h:message for="picturesInput" styleClass="error"/>
                </h:panelGroup>

            </div>

            <div class="info-save">
                <h:panelGroup styleClass="form-group">
                    <h:commandButton styleClass="btn btn-lg btn-ads-save"
                                     value="#{bundle['fxs.updateAds.update']}"
                                     action="#{adsBean.updateAddedAds}">
                    </h:commandButton>
                </h:panelGroup>

            </div>
        </div>
    </h:form>
</cc:implementation>
</html>