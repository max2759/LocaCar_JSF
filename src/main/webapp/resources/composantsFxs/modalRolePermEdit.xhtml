<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:cc="http://java.sun.com/jsf/composite">

<cc:interface name="modalRolePermEdit"/>
<!-- test add rolePerm -->
<f:view>
    <h:panelGroup id="popupAdd" layout="block" styleClass="popup-panel-overlay"
                  rendered="#{rolesPermissionsBean.showPopupAdd}">

        <h:form id="formPopupAdd">
            <div class="popup-panel">
                <h:outputText value="#{rolesPermissionsBean.success}"
                              style="color: green; font-weight: bold"></h:outputText>
                <h:outputText value="#{rolesPermissionsBean.fail}"
                              style="color: darkred; font-weight: bold"></h:outputText>
                <h:panelGrid>
                    <h:messages id="messages" showSummary="true" globalOnly="true" infoClass="alert-success"
                                errorClass="alert-danger"/>
                </h:panelGrid>


                <h:panelGroup styleClass="form-group">
                    <h:selectOneMenu id="rolesDisplay" styleClass="form-group"
                                     value="#{rolesBean.rolesEntity.id}">
                        <f:selectItem itemValue="#{null}" itemLabel=" "/>
                        <f:selectItems value="#{rolesBean.rolesEntitiesSelectItems}"/>
                    </h:selectOneMenu>
                    <h:message for="rolesDisplay"/>
                </h:panelGroup>

                <h:panelGroup styleClass="form-group">
                    <h:selectOneMenu id="permissionsDisplay" styleClass="form-group"
                                     value="#{permissionsBean.permissionsEntity.id}">
                        <f:selectItem itemValue="#{null}" itemLabel=" "/>
                        <f:selectItems value="#{permissionsBean.permissionsEntitiesSelectItems}"/>
                    </h:selectOneMenu>
                    <h:message for="rolesDisplay"/>
                </h:panelGroup>

                <!-- button save edit -->
                <span>
                        <h:commandButton styleClass="btn btn-outline-success btn-sm"
                                         value="#{bundle['fxs.insurancesList.save']}"
                                         action="#{rolesPermissionsBean.add}">
                            <f:ajax execute="formPopupAdd" render="@all"></f:ajax>
                        </h:commandButton>
                    </span>

                <span>
                        <h:commandButton styleClass="btn btn-outline-dark btn-sm"
                                         value="#{bundle['fxs.insurancesList.close']}"
                                         action="#{rolesPermissionsBean.hidePopupModal}">
                            <f:ajax render="@all"></f:ajax>
                        </h:commandButton>
                    </span>
            </div>
        </h:form>
    </h:panelGroup>
</f:view>

<!-- popup edit -->
<f:view>
    <h:panelGroup id="popupEdit" layout="block" styleClass="popup-panel-overlay"
                  rendered="#{rolesPermissionsBean.showPopupEdit}">

        <h:form id="formPopupEdit">
            <div class="popup-panel">
                <h:outputText value="#{rolesPermissionsBean.success}"
                              style="color: green; font-weight: bold"></h:outputText>
                <h:outputText value="#{rolesPermissionsBean.fail}"
                              style="color: darkred; font-weight: bold"></h:outputText>
                <h:panelGrid>
                    <h:messages id="messag" showSummary="true" globalOnly="true" infoClass="alert-success"
                                errorClass="alert-danger"/>
                </h:panelGrid>

                <h:panelGroup styleClass="form-group">
                    <h:selectOneMenu id="rolesDisplays" styleClass="form-group"
                                     value="#{rolesBean.rolesEntity.id}">
                        <f:selectItem itemValue="#{null}" itemLabel=" "/>
                        <f:selectItems value="#{rolesBean.rolesEntitiesSelectItems}"/>
                    </h:selectOneMenu>
                    <h:message for="rolesDisplay"/>
                </h:panelGroup>

                <h:panelGroup styleClass="form-group">
                    <h:selectOneMenu id="permissionsDisplays" styleClass="form-group"
                                     value="#{permissionsBean.permissionsEntity.id}">
                        <f:selectItem itemValue="#{null}" itemLabel=" "/>
                        <f:selectItems value="#{permissionsBean.permissionsEntitiesSelectItems}"/>
                    </h:selectOneMenu>
                    <h:message for="rolesDisplay"/>
                </h:panelGroup>

                <!-- button save add -->
                <span>
                        <h:commandButton styleClass="btn btn-outline-success btn-sm"
                                         value="#{bundle['fxs.insurancesList.save']}"
                                         action="#{rolesPermissionsBean.functionUpdateRolePermissions}">
                            <f:ajax execute="formPopupEdit" render="@all"></f:ajax>
                        </h:commandButton>

                    </span>

                <span>
                        <h:commandButton styleClass="btn btn-outline-dark btn-sm"
                                         value="#{bundle['fxs.insurancesList.close']}"
                                         action="#{rolesPermissionsBean.hidePopupModal}">
                            <f:ajax render="@all"></f:ajax>
                        </h:commandButton>
                    </span>
            </div>
        </h:form>
    </h:panelGroup>
</f:view>
</html>
